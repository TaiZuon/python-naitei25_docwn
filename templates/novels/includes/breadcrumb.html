{% load i18n %}

<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
    <!-- Home -->
    <li class="breadcrumb-item">
      <a href="{% url 'novels:home' %}">
        <i class="fas fa-home"></i>
        {% trans "Trang chủ" %}
      </a>
    </li>

    <!-- Dynamic breadcrumb items based on current page -->
    {% if request.resolver_match.url_name == 'novel_detail' and novel %}
      <li class="breadcrumb-item">
        <a href="{% url 'novels:home' %}">
          <i class="fas fa-book"></i>
          {% trans "Tiểu thuyết" %}
        </a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-book-open"></i>
        {{ novel.name }}
      </li>
    {% elif request.resolver_match.url_name == 'chapter_detail' and chapter and novel %}
      <li class="breadcrumb-item">
        <a href="{% url 'novels:home' %}">
          <i class="fas fa-book"></i>
          {% trans "Tiểu thuyết" %}
        </a>
      </li>
      <li class="breadcrumb-item">
        <a href="{% url 'novels:novel_detail' novel_slug=novel.slug %}">
          <i class="fas fa-book-open"></i>
          {{ novel.name }}
        </a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-file-alt"></i>
        {{ chapter.title }}
      </li>
    {% elif request.resolver_match.url_name == 'chapter_add' and novel %}
      <li class="breadcrumb-item">
        <a href="{% url 'novels:home' %}">
          <i class="fas fa-book"></i>
          {% trans "Tiểu thuyết" %}
        </a>
      </li>
      <li class="breadcrumb-item">
        <a href="{% url 'novels:novel_detail' novel_slug=novel.slug %}">
          <i class="fas fa-book-open"></i>
          {{ novel.name }}
        </a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-plus"></i>
        {% trans "Thêm chapter" %}
      </li>
    {% elif request.resolver_match.url_name == 'my_novels' %}
      <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-user-edit"></i>
        {% trans "Tiểu thuyết của tôi" %}
      </li>
    {% elif request.resolver_match.url_name == 'reading_history' %}
      <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-history"></i>
        {% trans "Lịch sử đọc" %}
      </li>
    {% elif request.resolver_match.url_name == 'novel_create' %}
      <li class="breadcrumb-item">
        <a href="{% url 'novels:my_novels' %}">
          <i class="fas fa-user-edit"></i>
          {% trans "Tiểu thuyết của tôi" %}
        </a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-plus-circle"></i>
        {% trans "Tạo tiểu thuyết mới" %}
      </li>
    {% elif request.resolver_match.url_name == 'chapter_upload_rules' %}
      <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-clipboard-list"></i>
        {% trans "Quy định đăng chapter" %}
      </li>
    {% elif request.resolver_match.url_name == 'chapter_list' and novel %}
      <li class="breadcrumb-item">
        <a href="{% url 'novels:home' %}">
          <i class="fas fa-book"></i>
          {% trans "Tiểu thuyết" %}
        </a>
      </li>
      <li class="breadcrumb-item">
        <a href="{% url 'novels:novel_detail' novel_slug=novel.slug %}">
          <i class="fas fa-book-open"></i>
          {{ novel.name %}
        </a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">
        <i class="fas fa-list"></i>
        {% trans "Danh sách chapter" %}
      </li>
    {% endif %}
  </ol>
</nav>
