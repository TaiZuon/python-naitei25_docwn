{% load i18n %}
<!-- Statistics Section -->
<div class="statistics-section">
    <div class="row mb-4 justify-content-center">
        <div class="col-12">
            <div class="stats-container">
                <a href="#" data-status="" class="stats-card text-decoration-none status-filter {% if current_filter == 'all' %}active{% endif %}">
                    <div class="stats-number">{{ total_count }}</div>
                    <div class="stats-label">{% trans "Tổng cộng" %}</div>
                </a>
                <a href="#" data-status="{{ DRAFT }}" class="stats-card text-decoration-none status-filter {% if current_filter == DRAFT %}active{% endif %}">
                    <div class="stats-number">{{ draft_count }}</div>
                    <div class="stats-label">{% trans "Bản nháp" %}</div>
                </a>
                <a href="#" data-status="{{ PENDING }}" class="stats-card text-decoration-none status-filter {% if current_filter == PENDING %}active{% endif %}">
                    <div class="stats-number">{{ pending_count }}</div>
                    <div class="stats-label">{% trans "Chờ duyệt" %}</div>
                </a>
                <a href="#" data-status="{{ APPROVED }}" class="stats-card text-decoration-none status-filter {% if current_filter == APPROVED %}active{% endif %}">
                    <div class="stats-number">{{ approved_count }}</div>
                    <div class="stats-label">{% trans "Đã duyệt" %}</div>
                </a>
                <a href="#" data-status="{{ REJECTED }}" class="stats-card text-decoration-none status-filter {% if current_filter == REJECTED %}active{% endif %}">
                    <div class="stats-number">{{ rejected_count }}</div>
                    <div class="stats-label">{% trans "Bị từ chối" %}</div>
                </a>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Handle status filter clicks
    document.querySelectorAll('.status-filter').forEach(function(link) {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            
            const status = this.dataset.status;
            const url = new URL(window.location);
            
            // Remove page parameter when changing filters
            url.searchParams.delete('page');
            
            // Set or remove status parameter
            if (status) {
                url.searchParams.set('status', status);
            } else {
                url.searchParams.delete('status');
            }
            
            // Navigate to new URL
            window.location.href = url.toString();
        });
    });
});
</script>
